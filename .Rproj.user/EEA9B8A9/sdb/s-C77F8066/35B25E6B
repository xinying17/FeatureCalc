{
    "contents" : "new_feature_type1 <- function(data_trainm,train_label,data_testm,classes,p,corr,s){\n\n  if(missing(s)){\n    s=1\n  }\n\n  if(missing(p)){\n    p=0\n  }\n\n  if(missing(corr)){\n    corr=0\n  }\n\n  # feature map with laplacian\n  train_nets <- structure(list(types = character(),\n                               featureIDX = list(),\n                               nets = list()))\n  aa=1\n  for(t in classes){\n    class_train_data <- data_trainm[train_label==t,]\n    nets <- network_build(class_train_data, p, corr)\n    train_nets$types[[aa]] <- t\n    train_nets$featureIDX[[aa]] <- colnames(data_trainm)\n    train_nets$nets[[aa]] <- nets\n    aa=aa+1\n  }\n\n  new_train = NULL\n  new_test = NULL\n\n  for(b in 1:length(train_nets$types)){\n    nets <- train_nets$nets[[b]]\n\n    r <- eigen(nets$laplacian)\n    V <- r$vectors\n    lam <- r$values\n    lam[lam<0] = 0\n    Lmbd = diag(lam ** abs(s))\n    if(s<0){\n      Lmbd = ginv(Lmbd)\n    }\n    newL = V %*% Lmbd %*% solve(V)\n    new_train <- cbind(new_train,as.matrix(data_trainm) %*% newL)\n    new_test <- cbind(new_test,as.matrix(data_testm) %*% newL)\n  }\n\n  new_data <- rbind(new_train,new_test)\n\n  return(new_data)\n}\n",
    "created" : 1514929811871.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2937478738",
    "id" : "35B25E6B",
    "lastKnownWriteTime" : 1514929677,
    "path" : "~/Codes/R/FeatureCalc/R/new_featrue_type1.R",
    "project_path" : "R/new_featrue_type1.R",
    "properties" : {
    },
    "relative_order" : 5,
    "source_on_save" : false,
    "type" : "r_source"
}